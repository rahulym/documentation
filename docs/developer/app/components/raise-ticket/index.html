<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">app.raiseTicket | Yellow Messenger</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Yellow Messenger"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="app.raiseTicket | Yellow Messenger"><meta data-react-helmet="true" name="description" content="app.raiseTicket() is used to raise a ticket and assign it to an agent."><meta data-react-helmet="true" property="og:description" content="app.raiseTicket() is used to raise a ticket and assign it to an agent."><meta data-react-helmet="true" property="og:url" content="https://docs.yellowmessenger.com/docs/developer/app/components/raise-ticket"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.yellowmessenger.com/docs/developer/app/components/raise-ticket"><link rel="stylesheet" href="/styles.062154ba.css">
<link rel="preload" href="/styles.6de717ab.js" as="script">
<link rel="preload" href="/runtime~main.b6284e3f.js" as="script">
<link rel="preload" href="/main.c20decee.js" as="script">
<link rel="preload" href="/1.a1a62872.js" as="script">
<link rel="preload" href="/2.a83390d3.js" as="script">
<link rel="preload" href="/134.42b5743f.js" as="script">
<link rel="preload" href="/133.eb882d52.js" as="script">
<link rel="preload" href="/935f2afb.2f8f0d79.js" as="script">
<link rel="preload" href="/17896441.f0fabcdf.js" as="script">
<link rel="preload" href="/10474a8d.9560592f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/cookbooks">Cookbooks</a><a class="navbar__item navbar__link" href="/docs/documentation/overview">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/developer/overview">Developer Guide</a><a class="navbar__item navbar__link" href="/docs/canary/introduction">Canary</a><a class="navbar__item navbar__link" href="/docs/bumblebee/introduction">Bumblebee</a><a class="navbar__item navbar__link" href="/videos">Videos</a></div><div class="navbar__items navbar__items--right"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get started for free</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cookbooks">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/documentation/overview">Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/developer/overview">Developer Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/canary/introduction">Canary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/bumblebee/introduction">Bumblebee</a></li><li class="menu__list-item"><a class="menu__link" href="/videos">Videos</a></li><li class="menu__list-item"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://cloud.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Get started for free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/developer/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Function reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/overview">Root object (app)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/agents-available">app.agentsAvailable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/agents-online">app.agentsOnline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/ai">app.ai</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/all-functions">app.allFunctions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/all-steps">app.allSteps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/ask">app.ask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/bot-env">app.BOT_ENV</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/context-end-time">app.contextEndTime</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/context">app.context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/create-email-ticket">app.createEmailTicket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/created-user-message-object">app.createdUserMessageObject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/custom-entity-recognizer">app.customEntityRecognizer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/data">app.data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/datastore">app.datastore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/delete-step">app.deleteStep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/execute-function">app.executeFunction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/extract-name">app.extractName</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/feedback-provided">app.feedbackEvent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/get-agents">app.getAgents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/get-current-active-ticket">app.getCurrentActiveTicket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/get-support-settings">app.getSupportSettings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/get-ticket">app.getTicket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/get-variable">app.getVariable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/html-ticket-chat-transcript">app.htmlTicketChatTranscript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/invoke-journey">app.invokeJourney</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/is-bot-paused">app.isBotPaused</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/ldap">app.ldap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/libphonenumber-js">libphonenumber-js</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/library-start-time">app.libraryStartTime</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/log-times">app.logTimes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/logger">app.logger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/memory">app.memory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/message-id">app.messageId</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/mustache">app.mustache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/options">app.options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/orchestrator-bot-id">app.orchestratorBotId</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/orchestrator">app.oschestrator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/page-url">app.pageUrl</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/phone-parse">app.phoneParse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/prediction">app.prediction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/profile">app.profile</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/developer/app/components/raise-ticket">app.raiseTicket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/regex-validator">app.regexValidator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/render-message">app.renderMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-boarding-pass">app.sendBoardingPasses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-cards">app.sendCards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-email-message">app.sendEmailMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-flight-details">app.sendFlightDetails</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-quick-replies">app.sendQuickReplies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-rating">app.sendRating</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-text-message">app.sendTextMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/send-web-views">app.sendWebViews</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/session-id">app.sessionId</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/set-variables">app.setVariables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/soap">app.soap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/term">app.term</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/transfer-ticket">app.transferTicket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/translate">app.translate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/trigger-journey">app.triggerIntent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/update-collaborators">app.updateCollaborators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/update-ticket-csat">app.updateTicketCsat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/update-ticket-custom-fields">app.updateTicketCustomFields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/upload-whatsapp-media">app.uploadWhatsappMedia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/util-functions">app.utilFunctions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/word-to-number">app.wordToNumber</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/xml-to-json">app.xmlToJson</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/components/xmpp-obj">app.xmppObj</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/app/apis/audience-api">Audience API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/app/apis/data-api">Data API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/developer/app/apis/platform-api">Platform API</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Events reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/events/agent-events">Agent Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/events/analytics-events">Analytics Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/events/bot-events">Bot Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/events/user-events">User Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer/app/events/voice-events">Voice Events</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">app.raiseTicket</h1></header><div class="markdown"><p>app.raiseTicket() is used to raise a ticket and assign it to an agent.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="output-parameters"></a>Output Parameters<a class="hash-link" href="#output-parameters" title="Direct link to heading">#</a></h2><p>Ticket Data, with the details of the ticket and agent it is assigned to.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-usage"></a>Example Usage<a class="hash-link" href="#example-usage" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">raiseTicket</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// issue is what you want to go in the ticket description</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            issue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Test ticket creation&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">//If you add these detais here, they will show up in the right sidebbar of agent window</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            contact</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                email</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mattew@org.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                phone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;9876543211&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Matthew&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">// Please do not add any other properties to the this contact object. You can use custom fields if you&#x27;d like to show any other details.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            priority</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MEDIUM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            category</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> category </span><span class="token comment" style="color:#999988;font-style:italic">//this decides the agent group</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ticketData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ticketData </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> ticketData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">assignedTo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> email </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mattew@org.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> phone </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;9876543211&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Matthew&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pauseBot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Thank You for your patience. You are now connected to our OSE.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Oops! It seems that all our agents are busy. Sending an email instead.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sender </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;noreply@yellowmessenger.com&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> body </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Hi, --- This is the inform you that your customer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">app</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">context</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">steps</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">app</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">context</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">steps</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">email_address</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> has raised a ticket regarding issue in processing the transactions. \n Kindly connect to him within the next 5 minutes.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subject </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Customer Query&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> to </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;shubhi@yellowmessenger.com&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">to</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> subject</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> body</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">triggerIntent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;default&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>IssueString</strong>: Issue string helps the agent to get an idea regarding the context or issue faced by the user</p><p><strong>Contact</strong>: This is an object of user details collected from the user and passed for the agents reference. The object can contain name, email, phone number and so on.</p><p><strong>ticketData</strong>: Once the ticket is generated, the ticketData will contain data regarding the ticket generated. It can be the name of the agent to whom the ticket is assigned to, the ticket number and so on. </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">If the ticket is not created, the error message is sent in the ticketData.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>There are 2 types of ticket creation:</p><ol><li><p>Online ticket generation</p></li><li><p>Offline ticket generation</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="online-ticket-generation"></a>Online ticket generation<a class="hash-link" href="#online-ticket-generation" title="Direct link to heading">#</a></h3><p>Online tickets are generated when the customer service agents are online. When the online ticket is generated, the bot will be paused using the command app.pauseBot() to allow the user to converse with the agent.
Code for online ticket generation:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">renderMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pleaseWait&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Please wait while I contact my support center...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> issueString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;User Query&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">raiseTicket</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       issue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> issueString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       contact</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">steps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SAMPLE NAME&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       priority</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MEDIUM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       manualAssignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ticketData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ticketData</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TICKET DATA&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ticketData </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> ticketData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">assignedTo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pauseBot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">renderMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;patience&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Thank you for your patience, you are now connected with our agent.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">renderMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;unavailable&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Our agents are currently unavailable. We will get back to you as soon as possible.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="offline-ticket-generation"></a>Offline ticket generation<a class="hash-link" href="#offline-ticket-generation" title="Direct link to heading">#</a></h3><p>Offline tickets are generated when the customer service agents are either busy with serving other users or offline when taking a break after answering the queries of other users.</p><p>While generating an offline ticket, 2 main parameters needs to be sent to the app.raiseTicket() method. Offline tickets can be generated if the online tickets are not generated.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">  manualAssignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  assignedTo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;emailId&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>manualAssignment: This flag should be set to true
assignedTo: The email id of the agent to whom the tickets has to be assigned.</p><p>Code for offline ticket generation:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-javascript codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">raiseTicket</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  issue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Customer Query&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  contact</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> profileName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    phone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> profileName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    email</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  priority</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MEDIUM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  manualAssignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  assignedTo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;emailId of agent&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ticketData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ticketData </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> ticketData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">assignedTo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pauseBot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">renderMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;patience&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Thank you for your patience, you are now connected with our agent.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendTextMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">renderMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;unavailable&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Our agents are currently unavailable. We will get back to you as soon as possible.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> </span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Ticket</span><span class="token plain"> closing event</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">After</span><span class="token plain"> the agent closes the ticket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> the bot receives an event </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> the code ticket</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">closed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> which has to be handled </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">event</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ticket-closed&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// the bot can be unpaused using app.unPauseBot()</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="note"></a>Note<a class="hash-link" href="#note" title="Direct link to heading">#</a></h2><p>Please make sure to test your bot by logging in as an agent and seeing if your ticket is being transferred as shown in the demo.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/developer/app/components/profile"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> app.profile</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developer/app/components/regex-validator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">app.regexValidator </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#output-parameters" class="table-of-contents__link">Output Parameters</a></li><li><a href="#example-usage" class="table-of-contents__link">Example Usage</a><ul><li><a href="#online-ticket-generation" class="table-of-contents__link">Online ticket generation</a></li><li><a href="#offline-ticket-generation" class="table-of-contents__link">Offline ticket generation</a></li></ul></li><li><a href="#note" class="table-of-contents__link">Note</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2021 Yellow Messenger</div></div></div></footer></div>
<script src="/styles.6de717ab.js"></script>
<script src="/runtime~main.b6284e3f.js"></script>
<script src="/main.c20decee.js"></script>
<script src="/1.a1a62872.js"></script>
<script src="/2.a83390d3.js"></script>
<script src="/134.42b5743f.js"></script>
<script src="/133.eb882d52.js"></script>
<script src="/935f2afb.2f8f0d79.js"></script>
<script src="/17896441.f0fabcdf.js"></script>
<script src="/10474a8d.9560592f.js"></script>
</body>
</html>