<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Yellow Messenger" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap"><title data-react-helmet="true">Yellow Messenger Academy | Yellow Messenger</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Yellow Messenger"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Yellow Messenger Academy | Yellow Messenger"><meta data-react-helmet="true" name="description" content="Companion guides for Yellow Messenger Academy participants."><meta data-react-helmet="true" property="og:description" content="Companion guides for Yellow Messenger Academy participants."><meta data-react-helmet="true" property="og:url" content="https://docs.yellow.ai/docs/cookbooks/Academy"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://docs.yellow.ai/docs/cookbooks/Academy"><link rel="stylesheet" href="/styles.44eaa097.css">
<link rel="preload" href="/styles.d83c48b8.js" as="script">
<link rel="preload" href="/runtime~main.99c61365.js" as="script">
<link rel="preload" href="/main.cf14948a.js" as="script">
<link rel="preload" href="/1.e2fb9627.js" as="script">
<link rel="preload" href="/2.d82e1e4f.js" as="script">
<link rel="preload" href="/97cc45c3.b74b2ea7.js" as="script">
<link rel="preload" href="/163.ee50cc6e.js" as="script">
<link rel="preload" href="/935f2afb.cbac66ab.js" as="script">
<link rel="preload" href="/17896441.264a2ed0.js" as="script">
<link rel="preload" href="/7ac293ee.03856180.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/documentation/concepts/overview">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/cookbooks/Academy">Cookbooks</a><a class="navbar__item navbar__link" href="/docs/howtos/basics/create-a-bot">How to&#x27;s</a></div><div class="navbar__items navbar__items--right"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign up for free</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/documentation/concepts/overview">Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/cookbooks/Academy">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/howtos/basics/create-a-bot">How to&#x27;s</a></li><li class="menu__list-item"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="menu__link">Sign up for free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Basic</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/cookbooks/Academy">Yellow Messenger Academy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/data-layer">Understanding Data Base Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/document_cognition">Document Cognition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/getting_started">Getting Started with &quot;Hello World!&quot;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/lead-gen-bot">Building your first Bot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/transfer_chat">Agent augmentation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Channels 101</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cookbooks/channels-101/whatsapp-basics">Channels 101</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Yellow Messenger Academy</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="day-1"></a>Day 1<a class="hash-link" href="#day-1" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="platform-basics-exercise-guide"></a>Platform Basics Exercise Guide<a class="hash-link" href="#platform-basics-exercise-guide" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="introduction-to-use-case"></a>Introduction to Use-Case<a class="hash-link" href="#introduction-to-use-case" title="Direct link to heading">#</a></h3><p>A popular restaurant in town is planning to implement a chatbot as an alternative for food ordering. On launching the webpage of the restaurant or on using the App on the mobile platform the user should be greeted by the chatbot. The user would speak to a chatbot to order food instead of talking to a staff member. The user would chat with the bot as if she is speaking to a real staff member. She would ask the bot, what is on the menu? Or What kind of cuisine is offered in the restaurant? The bot would respond back by giving the user the different Cuisine options to choose from. For Example, a South Indian Cuisine and North Indian Cuisine. On clicking the respective option, the menu is displayed as display cards. The user can go ahead and choose the food items she wants to order by selecting the respective display cards.</p><p>[ADD DEMO VIDEO OF FOOD ORDERING BOT]</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pre-session-task"></a>Pre-Session Task<a class="hash-link" href="#pre-session-task" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">• Signup on https://cloud.yellowmessenger.com</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Provide a valid email address.</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[ADD LOGIN SCREEN SCREENSHOT]</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Login to https://cloud.yellowmessenger.com</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[ UPDATE WRT CLOUD.YM ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Click on the Projcts button and look for an ‘invitation’ for a sandbox bot</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Click on Sandbox on the right side to check for a bot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>• Now you are ready build your first bot on YM platform</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exercise-11-initial-configuration-of-the-bot"></a>Exercise 1.1: Initial Configuration of the Bot<a class="hash-link" href="#exercise-11-initial-configuration-of-the-bot" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objective"></a>Objective:<a class="hash-link" href="#objective" title="Direct link to heading">#</a></h4><p>End of the Exercise you should be able to understand how to</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">• Know the platform features</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Do the initial configuration of a bot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task"></a>Task:<a class="hash-link" href="#task" title="Direct link to heading">#</a></h4><ol><li>Explore the platform</li><li>Perform the initial Configure</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-1-explore-the-platform"></a>Task 1: Explore the Platform<a class="hash-link" href="#task-1-explore-the-platform" title="Direct link to heading">#</a></h4><p>[ADD PLATFORM GIF]</p><ol><li>Click on the Projects.</li><li>Click on the bot. This would launch the platform as shown in the image above.</li><li>Explore the buttons on the left side.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-2-perform-the-initial-configure"></a>Task 2: Perform the initial Configure<a class="hash-link" href="#task-2-perform-the-initial-configure" title="Direct link to heading">#</a></h4><p>Note: <em>This process would help you define your bot by giving it an identity
(Name, Title, Description and Intro message)</em></p><p>[ADD CONFIG GIF]</p><ol><li><p>Click on the configuration button (gear icon) on the botton left corner.</p></li><li><p>Fill in the details:</p><p>• Name</p><p>• Description</p><p>• Bot Icon (Click on <code>Add Icon</code>)</p></li></ol><p>Rest of the text boxes are optional.</p><ol start="3"><li><p>Click on <code>Save</code> button.</p></li><li><p>Click on the <code>Overview</code> button on the top left.</p></li><li><p>Under the <code>Try your bot</code> section, you can see your bot with the bot icon you&#x27;ve added in the configuration. You can also notice that bot name has also been updated.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exercise-12-creating-a-journey-and-testing-the-model"></a>Exercise 1.2: Creating a Journey and Testing the Model<a class="hash-link" href="#exercise-12-creating-a-journey-and-testing-the-model" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objective-1"></a>Objective:<a class="hash-link" href="#objective-1" title="Direct link to heading">#</a></h4><p>End of this exercise you should be able understand</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">• Creating a Journey</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Configuring the journey with user utterances</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Training the Model and testing</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Configure Default Journey (for Default Bot Message)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-1"></a>Task:<a class="hash-link" href="#task-1" title="Direct link to heading">#</a></h4><ol><li>Create a Journey and Configure the Journey with User Expressions (Utterance)</li><li>Test the Model</li><li>Configure the Default Journey</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-1-create-a-journey"></a>Task 1: Create a Journey<a class="hash-link" href="#task-1-create-a-journey" title="Direct link to heading">#</a></h4><p>Note: <em>In the following exercise we could create a Journey that the user would go through to check for the menu and place his order</em></p><ol><li>Click on <code>Create Journey</code> button on the bottom left corner.</li><li>Leave <code>Template</code> as <code>Black Journey</code> and <code>Category</code> as <code>Default Category</code> only. Enter <code>Journey name</code> and <code>Journey description</code>.</li><li>Now go to Studio and select the journey you&#x27;ve created.</li><li>Click on <code>Start Trigger</code>, it&#x27;ll open up a new panel on the right side.</li><li>In the grey space, you can add utterances. Utterances are the phrases users may say to trigger this journey.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-2-test-the-bot"></a>Task 2: Test the Bot<a class="hash-link" href="#task-2-test-the-bot" title="Direct link to heading">#</a></h4><p>Note: <em>Test the bot to check if it has learned the user expressions</em></p><ol><li>Click on ‘Train’ button on top right corner.</li><li>Once the training is finished, click on <code>Tools</code> (wrench &amp; screwdriver icon).</li><li>Under <code>TEST YOUR BOT</code> section, enter an utterance.</li><li>In the JSON response, under <code>intents</code> you can see entered utterance will invoke which journey. It also shows confidance in percentage. Here, 1 means 100%.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-3-configure-the-default-journey"></a>Task 3: Configure the Default Journey<a class="hash-link" href="#task-3-configure-the-default-journey" title="Direct link to heading">#</a></h4><p>Note: <em>Configure Default Journey to enter the Default Message of the Bot.</em></p><ol><li>In the <code>Journeys</code> section select <code>Welcome</code> journey.</li><li>On your screen you can see two boxes <code>START TRIGGER</code> and <code>DEFAULT</code>. Click on <code>DEFAULT</code>.</li><li>On the right side, you can see <code>Generic responses</code>. Under the <code>TEXT MESSAGE</code>, there is a text messange already which you&#x27;ve entered earlier while creating a bot. Update the <code>TEXT MESSAGE</code>.</li><li>Go to <code>Try your bot</code> under <code>Overview</code> tab from the left panel. Here if you click on home button, it&#x27;ll trigger the default journey and show Text message you&#x27;ve just entered.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exercise-13-adding-messages-to-the-journey"></a>Exercise 1.3: Adding Messages to the Journey<a class="hash-link" href="#exercise-13-adding-messages-to-the-journey" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objective-end-of-this-exercise-you-should-be-able-understand"></a>Objective: End of this exercise you should be able understand<a class="hash-link" href="#objective-end-of-this-exercise-you-should-be-able-understand" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">• Adding Messages to the Journey</span></div><div class="token-line" style="color:#393A34"><span class="token plain">• Adding Text response and Quick reply for the steps</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-add-message-to-the-journey-adding-text-response-and-quick-reply-for-the-message"></a>Task: Add message to the Journey, Adding Text response and Quick reply for the message<a class="hash-link" href="#task-add-message-to-the-journey-adding-text-response-and-quick-reply-for-the-message" title="Direct link to heading">#</a></h4><p>Note: <em>When you user enters an expression like ‘Show me the Menu’ you would expect the bot to reply back asking the user ‘What kind of Cuisine do you like?’ with Cuisine (South Indian, North Indian...) listed as options to select.
This process is achieved by adding <code>Messages</code> to the Journey.</em></p><ol><li>Go to <code>Studio</code> and select the journey you&#x27;ve created (Restaurant).</li><li>Click on the <code>+</code> icon to add new step, then Select <code>Text</code> message type.</li><li>On the right side, enter &#x27;Cuisine Type&#x27; as step name. In the Generic responses, enter &quot;We serve north and south indian cuisines.&quot;
in the <code>TEXT MESSAGE</code> field. You can also add multiple text fpr randomizing by clicking on plus sign.
[ADD MESSAGE GIF]</li><li>Go back to <code>Try your bot</code> and enter the expression &#x27;Show me the Menu&#x27;.</li><li>You should see the message ‘What kind of Cuisine do you like?’
[ADD BOT GIF]</li><li>Now to add <code>Quick Replies</code> go back to <code>Studio</code> and add a new step in the <code>Restaurant</code> journey.</li><li>Add <code>Step Name</code> and under <code>QUICK REPLY</code> enter &quot;What kind of Cuisine do you like?&quot;.</li><li>Using add sign below, you can add multiple options to choose from. Add &#x27;North Indian&#x27; and &#x27;South Indian&#x27; options.</li><li>Go back to <code>Try your bot</code> and enter &quot;Menu please&quot; or &quot;Show me the menu&quot;.
[ADD BOT GIF]</li><li>Look for the chat response, &quot;What kind of Cuisine do you like&quot; with two quick reply buttons &#x27;South Indian&#x27; and &#x27;North Indian&#x27;.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exercise-14-final-response-to-the-steps"></a>Exercise 1.4: Final Response to the Steps<a class="hash-link" href="#exercise-14-final-response-to-the-steps" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="objective-end-of-this-exercise-you-should-be-able-understand-1"></a>Objective: End of this exercise you should be able understand<a class="hash-link" href="#objective-end-of-this-exercise-you-should-be-able-understand-1" title="Direct link to heading">#</a></h4><p>• Add Carousel response to the journey</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-2"></a>Task:<a class="hash-link" href="#task-2" title="Direct link to heading">#</a></h4><ol><li>Add Carousel response to the journey</li><li>Validating the input from Carousel</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="task-1-add-carousel-response"></a>Task 1: Add Carousel response<a class="hash-link" href="#task-1-add-carousel-response" title="Direct link to heading">#</a></h4><p>Note: <em>In this task you would add response to the buttons clicked in a Step. Like, when a user clicks ‘South Indian’ Or ‘North Indian’ button related to cuisine what would be the response. </em></p><ol><li></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="day-2"></a>Day 2<a class="hash-link" href="#day-2" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cloud-functions-exercise-guide"></a>Cloud Functions Exercise Guide<a class="hash-link" href="#cloud-functions-exercise-guide" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code-snippets"></a>Code Snippets<a class="hash-link" href="#code-snippets" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="nameprompt"></a>namePrompt<a class="hash-link" href="#nameprompt" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.log(app.prediction, &quot;Prediction&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendTextMessage(&quot;Can you please tell me your name?&quot;).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mobileprompt"></a>mobilePrompt<a class="hash-link" href="#mobileprompt" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.log(app.context, &quot;Context&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let steps = app.context.steps;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendTextMessage(`Hey ${steps.name}, Can I know you mobile?`).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="emailprompt"></a>emailPrompt<a class="hash-link" href="#emailprompt" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let steps = app.context.steps;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendTextMessage(`Noted! Can you help me with you email?`).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="optinprompt"></a>optinPrompt<a class="hash-link" href="#optinprompt" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let title = &quot;Are you willing to receive notifications regarding your orders in Whatsapp?&quot;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let options = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           title: &quot;Yes&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           text: &quot;Yes&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           title: &quot;No&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           text: &quot;No&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ];</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendQuickReplies({ title, options }).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="confirmationprompt"></a>confirmationPrompt<a class="hash-link" href="#confirmationprompt" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let steps = app.context.steps;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendCards(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               title: &quot;Please confirm your details below&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               text: &quot;Please let us know if any of your details is wrong!&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               table: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Name&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       value: steps[&quot;name&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Mobile&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       value: steps[&quot;mobile&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Email&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       value: steps[&quot;email&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Optin&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       value: steps[&quot;optin&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               actions: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Confirm&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       text: &quot;Confirm&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       title: &quot;Enter Details Again&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       text: &quot;Enter Details Again&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="leadsinit"></a>leadsInit<a class="hash-link" href="#leadsinit" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.sendTextMessage(&quot;In Init Function&quot;).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   // app.setStep(&quot;mobile&quot;, &quot;9487813680&quot;).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //     return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   // });</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   // app.setMultipleSteps(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //         name: &quot;Sam&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //         mobile: &quot;1234567890&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //     }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   // ).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   //     return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   // });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="day-3"></a>Day 3<a class="hash-link" href="#day-3" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code-snippets-1"></a>Code Snippets<a class="hash-link" href="#code-snippets-1" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="database-insert"></a>Database Insert<a class="hash-link" href="#database-insert" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.dataStore.insert({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    table: &quot;leads&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    record: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        name: steps[&quot;name&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        mobile: steps[&quot;mobile&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        email: steps[&quot;email&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        optin: steps[&quot;optin&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="database-search"></a>Database Search<a class="hash-link" href="#database-search" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">let mobile = &quot;9487813680&quot;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">app.dataStore.search({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       table: &quot;leads&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       body: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           query: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               bool: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   must: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                           match: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                               &quot;mobile&quot;: mobile</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }).then((result) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       if (result &amp;&amp; result.hits &amp;&amp; result.hits.hits.length &gt; 0) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.log(result, &quot;DB Result&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let id = result.hits.hits[0]._id;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let name = result.hits.hits[0]._source.name;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let mobile = result.hits.hits[0]._source.mobile;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let email = result.hits.hits[0]._source.email;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.sendTextMessage(`Hey ${name}, these are your details\n\nMobile: ${mobile}\nEmail: ${email}`);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       } else {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.log(&quot;No Records Found&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }).catch((e) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(e, &quot;Er in db serch&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="database-update"></a>Database Update<a class="hash-link" href="#database-update" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">let mobile = &quot;9487813680&quot;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.dataStore.search({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       table: &quot;leads&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       body: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           query: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               bool: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   must: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                           match: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                               &quot;mobile&quot;: mobile</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }).then((result) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       if (result &amp;&amp; result.hits &amp;&amp; result.hits.hits.length &gt; 0) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.log(result, &quot;DB Result&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let id = result.hits.hits[0]._id;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let name = result.hits.hits[0]._source.name;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let mobile = result.hits.hits[0]._source.mobile;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           let email = result.hits.hits[0]._source.email;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.sendTextMessage(`Hey ${name}, these are your details\n\nMobile: ${mobile}\nEmail: ${email}`);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.dataStore.update({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               table: &quot;leads&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               record: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   _id: id,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   email: &quot;nitinnithilesh@ym.com&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   optin: &quot;No&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           }).then((res) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               app.log(res, &quot;Response&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           }).catch((e) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">               app.log(e, &quot;Er in updating&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           });</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       } else {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.log(&quot;No Records Found&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }).catch((e) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(e, &quot;Er in db serch&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="set-memory"></a>Set Memory<a class="hash-link" href="#set-memory" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">let memoryDataToStore = [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           name: steps[&quot;name&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           mobile: steps[&quot;mobile&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           email: steps[&quot;email&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           optin: steps[&quot;optin&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   ];</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.memory.set(&quot;leads&quot;, memoryDataToStore).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.sendTextMessage(&quot;Lead Generated!&quot;).then(() =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           return resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       });</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-memory"></a>Get Memory<a class="hash-link" href="#get-memory" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.memory.get(&quot;leads&quot;).then((leadsFromMemory) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(leadsFromMemory, &quot;Memory Result before parsing&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let leadsParsed = JSON.parse(leadsFromMemory);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(leadsParsed, &quot;Memory Result&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let name = leadsParsed.name;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let mobile = leadsParsed.mobile;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let email = leadsParsed.email;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.sendTextMessage(`Hey ${name}, these are your details\n\nMobile: ${mobile}\nEmail: ${email}`);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }).catch((e) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(e, &quot;Er in memory search&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.sendTextMessage(`Memory not present`);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="delete-memory"></a>Delete Memory<a class="hash-link" href="#delete-memory" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.memory.delete(&quot;leads&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="execute-api"></a>Execute API<a class="hash-link" href="#execute-api" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/* WITHOUT PARAMS */</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.executeApi(&quot;test_3&quot;).then((response) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let body = JSON.parse(response.body);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(body, &quot;API Response&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   /* WITH PARAMS */</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let paramToSend = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       nameOfUser: &quot;Nitin&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   };</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.executeApi(&quot;test&quot;, paramToSend).then((response) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       let body = JSON.parse(response.body);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.log(body, &quot;API Response&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="handle-language"></a>Handle Language<a class="hash-link" href="#handle-language" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">let languageSelected = app.context.steps[&#x27;change-language&#x27;];</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   let lan;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   switch (languageSelected.toUpperCase()) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       case &#x27;EN&#x27;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           await app.memory.set(&quot;target_language&quot;, &quot;en&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           lan = &#x27;en&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.setTargetLanguage(&quot;en&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           break;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       case &#x27;HI&#x27;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.log(&#x27;Inside Action of Hindi Language&#x27;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           await app.memory.set(&quot;target_language&quot;, &quot;hi&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           lan = &#x27;hi&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.setTargetLanguage(&quot;hi&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           break;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       default: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           await app.memory.set(&quot;target_language&quot;, &quot;en&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           lan = &#x27;en&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           app.setTargetLanguage(&quot;en&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">           break;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   languageSelected = languageSelected.toUpperCase();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   await app.memory.set(&#x27;languageSelected&#x27;, &#x27;true&#x27;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.options.targetLanguage = app.setTargetLanguage;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   return app.triggerIntent(&#x27;default&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="main-function---language"></a>Main Function - Language<a class="hash-link" href="#main-function---language" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.customOptions = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   minConfidence: 0.7,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   i18n: true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">app.memory.get(&#x27;target_language&#x27;).then((targetLanguage) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   if (targetLanguage) {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       app.customOptions.targetLanguage = targetLanguage;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}, (error) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   app.customOptions.targetLanguage = &#x27;en&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">return app.start(app.customOptions);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cookbooks/data-layer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understanding Data Base Actions »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#platform-basics-exercise-guide" class="table-of-contents__link">Platform Basics Exercise Guide</a><ul><li><a href="#introduction-to-use-case" class="table-of-contents__link">Introduction to Use-Case</a></li><li><a href="#pre-session-task" class="table-of-contents__link">Pre-Session Task</a></li><li><a href="#exercise-11-initial-configuration-of-the-bot" class="table-of-contents__link">Exercise 1.1: Initial Configuration of the Bot</a></li><li><a href="#exercise-12-creating-a-journey-and-testing-the-model" class="table-of-contents__link">Exercise 1.2: Creating a Journey and Testing the Model</a></li><li><a href="#exercise-13-adding-messages-to-the-journey" class="table-of-contents__link">Exercise 1.3: Adding Messages to the Journey</a></li><li><a href="#exercise-14-final-response-to-the-steps" class="table-of-contents__link">Exercise 1.4: Final Response to the Steps</a></li></ul></li><li><a href="#day-2" class="table-of-contents__link">Day 2</a><ul><li><a href="#cloud-functions-exercise-guide" class="table-of-contents__link">Cloud Functions Exercise Guide</a></li><li><a href="#code-snippets" class="table-of-contents__link">Code Snippets</a></li></ul></li><li><a href="#day-3" class="table-of-contents__link">Day 3</a><ul><li><a href="#code-snippets-1" class="table-of-contents__link">Code Snippets</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.d83c48b8.js"></script>
<script src="/runtime~main.99c61365.js"></script>
<script src="/main.cf14948a.js"></script>
<script src="/1.e2fb9627.js"></script>
<script src="/2.d82e1e4f.js"></script>
<script src="/97cc45c3.b74b2ea7.js"></script>
<script src="/163.ee50cc6e.js"></script>
<script src="/935f2afb.cbac66ab.js"></script>
<script src="/17896441.264a2ed0.js"></script>
<script src="/7ac293ee.03856180.js"></script>
</body>
</html>