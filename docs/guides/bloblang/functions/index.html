<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Bloblang Functions | Yellow Messenger</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Yellow Messenger"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Bloblang Functions | Yellow Messenger"><meta data-react-helmet="true" name="description" content="A list of Bloblang functions"><meta data-react-helmet="true" property="og:description" content="A list of Bloblang functions"><meta data-react-helmet="true" property="og:url" content="https://docs.yellowmessenger.com/docs/guides/bloblang/functions"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.yellowmessenger.com/docs/guides/bloblang/functions"><link rel="stylesheet" href="/styles.5559d08e.css">
<link rel="preload" href="/styles.e4d5cb5b.js" as="script">
<link rel="preload" href="/runtime~main.e88295cd.js" as="script">
<link rel="preload" href="/main.c8e4b053.js" as="script">
<link rel="preload" href="/1.5924ca73.js" as="script">
<link rel="preload" href="/2.b09603a0.js" as="script">
<link rel="preload" href="/333.fa5c3434.js" as="script">
<link rel="preload" href="/332.1fbf5b90.js" as="script">
<link rel="preload" href="/935f2afb.ad0a51ea.js" as="script">
<link rel="preload" href="/17896441.ea7c0357.js" as="script">
<link rel="preload" href="/a623da89.cec470ce.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/about">Docs</a><a class="navbar__item navbar__link" href="/cookbooks">Cookbooks</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/videos">Videos</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Lab</a><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-download-link header-icon-link" aria-label="Download"></a><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link header-icon-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/cookbooks">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/videos">Videos</a></li><li class="menu__list-item"><a class="menu__link" href="/community">Community</a></li><li class="menu__list-item"><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="menu__link">Lab</a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="menu__link header-download-link header-icon-link" aria-label="Download"></a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link header-icon-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about">About</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/batching">Message Batching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/windowed_processing">Windowed Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/metadata">Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/error_handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/interpolation">Interpolation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/field_paths">Field Paths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/processing_pipelines">Processing Pipelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/unit_testing">Unit Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/dynamic_inputs_and_outputs">Dynamic Inputs and Outputs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/http/about">HTTP</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Inputs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp_0_9">amqp_0_9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp_1">amqp_1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_kinesis">aws_kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_sqs">aws_sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/azure_blob_storage">azure_blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/bloblang">bloblang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/broker">broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/csv">csv</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/dynamic">dynamic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/gcp_pubsub">gcp_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/hdfs">hdfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/http_client">http_client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/inproc">inproc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kafka">kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kinesis">kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/mqtt">mqtt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nanomsg">nanomsg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nats">nats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nats_stream">nats_stream</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nsq">nsq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/read_until">read_until</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_list">redis_list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_pubsub">redis_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_streams">redis_streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/s3">s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sequence">sequence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/socket">socket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/socket_server">socket_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sqs">sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/stdin">stdin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/websocket">websocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/zmq4">zmq4</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sftp">sftp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp">amqp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/files">files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kafka_balanced">kafka_balanced</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kinesis_balanced">kinesis_balanced</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/tcp">tcp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/tcp_server">tcp_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/udp_server">udp_server</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Processors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/archive">archive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/avro">avro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/awk">awk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/aws_lambda">aws_lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/bloblang">bloblang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/bounds_check">bounds_check</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/branch">branch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/cache">cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/catch">catch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/compress">compress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/decompress">decompress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/dedupe">dedupe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/for_each">for_each</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/grok">grok</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/group_by">group_by</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/group_by_value">group_by_value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/http">http</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/insert_part">insert_part</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/jmespath">jmespath</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/jq">jq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/json_schema">json_schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/log">log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/metric">metric</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/noop">noop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/parallel">parallel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/parse_log">parse_log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/protobuf">protobuf</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/rate_limit">rate_limit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/redis">redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/select_parts">select_parts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sleep">sleep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/split">split</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sql">sql</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/switch">switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sync_response">sync_response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/throttle">throttle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/try">try</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/unarchive">unarchive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/while">while</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/workflow">workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/xml">xml</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/batch">batch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/conditional">conditional</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/decode">decode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/encode">encode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/filter">filter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/filter_parts">filter_parts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/hash">hash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/hash_sample">hash_sample</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/json">json</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/lambda">lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/merge_json">merge_json</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/metadata">metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/number">number</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_batch">process_batch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_dag">process_dag</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_field">process_field</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_map">process_map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sample">sample</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/text">text</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Outputs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp_0_9">amqp_0_9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp_1">amqp_1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_dynamodb">aws_dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_kinesis">aws_kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_kinesis_firehose">aws_kinesis_firehose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_sns">aws_sns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_sqs">aws_sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_blob_storage">azure_blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_queue_storage">azure_queue_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_table_storage">azure_table_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/broker">broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/cache">cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/cassandra">cassandra</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop">drop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop_on">drop_on</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/dynamic">dynamic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/elasticsearch">elasticsearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/gcp_pubsub">gcp_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/hdfs">hdfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/http_client">http_client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/inproc">inproc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kafka">kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/mqtt">mqtt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nanomsg">nanomsg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nats">nats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nats_stream">nats_stream</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nsq">nsq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_hash">redis_hash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_list">redis_list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_pubsub">redis_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_streams">redis_streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/reject">reject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/retry">retry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/socket">socket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sql">sql</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/stdout">stdout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/switch">switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sync_response">sync_response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/try">try</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/websocket">websocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/zmq4">zmq4</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sftp">sftp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp">amqp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/blob_storage">blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop_on_error">drop_on_error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/dynamodb">dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/files">files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kinesis">kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kinesis_firehose">kinesis_firehose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/s3">s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sns">sns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sqs">sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/table_storage">table_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/tcp">tcp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/udp">udp</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Caches</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/aws_dynamodb">aws_dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/memcached">memcached</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/memory">memory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/multilevel">multilevel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/redis">redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/ristretto">ristretto</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/dynamodb">dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/s3">s3</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rate Limits</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/rate_limits/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/rate_limits/local">local</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Buffers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/memory">memory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/none">none</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Metrics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/aws_cloudwatch">aws_cloudwatch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/prometheus">prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/statsd">statsd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/stdout">stdout</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/influxdb">influxdb</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/blacklist">blacklist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/cloudwatch">cloudwatch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/rename">rename</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/whitelist">whitelist</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tracers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/jaeger">jaeger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/none">none</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/logger/about">Logger</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/getting_started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Bloblang</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/bloblang/about">About</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/guides/bloblang/functions">Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/bloblang/methods">Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/bloblang/advanced">Advanced</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/performance_tuning">Performance Tuning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/sync_responses">Synchronous Responses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/aws">Amazon Web Services</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/serverless/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/serverless/lambda">Lambda</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Streams Mode</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/using_config_files">Streams Via Config Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/using_rest_api">Streams Via REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/streams_api">Streams API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Migration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/migration/v2">Migrating to Version 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/migration/v3">Migrating to Version 3</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Bloblang Functions</h1></header><div class="markdown"><p>Functions can be placed anywhere and allow you to extract information from your environment, generate values, or access data from the underlying message being mapped:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">uuid_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hostname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="general"></a>General<a class="hash-link" href="#general" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="count"></a><code>count</code><a class="hash-link" href="#count" title="Direct link to heading">#</a></h3><p>The <code>count</code> function is a counter starting at 1 which increments after each time it is called. Count takes an argument which is an identifier for the counter, allowing you to specify multiple unique counters in your configuration.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;bloblang_function_example&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;message&quot;:&quot;foo&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;id&quot;:1,&quot;message&quot;:&quot;foo&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;message&quot;:&quot;bar&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;id&quot;:2,&quot;message&quot;:&quot;bar&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="deleted"></a><code>deleted</code><a class="hash-link" href="#deleted" title="Direct link to heading">#</a></h3><p>A function that returns a result indicating that the mapping target should be deleted.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">deleted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;bar&quot;:&quot;bar_value&quot;,&quot;baz&quot;:&quot;baz_value&quot;,&quot;foo&quot;:&quot;foo value&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;baz&quot;:&quot;baz_value&quot;,&quot;foo&quot;:&quot;foo value&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Since the result is a value it can be used to do things like remove elements of an array within <code>map_each</code>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_nums </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nums</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map_each</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  match </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">deleted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter">_</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;nums&quot;:[3,11,4,17]}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;new_nums&quot;:[1,7]}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="range"></a><code>range</code><a class="hash-link" href="#range" title="Direct link to heading">#</a></h3><p>The <code>range</code> function creates an array of integers following a range between a start, stop and optional step integer argument. If the step argument is omitted then it defaults to 1. A negative step can be provided as long as stop &lt; start.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;max&quot;:10}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;a&quot;:[0,1,2,3,4,5,6,7,8,9],&quot;b&quot;:[0,2,4,6,8],&quot;c&quot;:[0,-2,-4,-6,-8]}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="throw"></a><code>throw</code><a class="hash-link" href="#throw" title="Direct link to heading">#</a></h3><p>Throws an error similar to a regular mapping error. This is useful for abandoning a mapping entirely given certain conditions.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> match </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;header.id&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;body.data&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter">_</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;unknown type&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">contents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">thing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;header&quot;:{&quot;id&quot;:&quot;first&quot;},&quot;thing&quot;:{&quot;body&quot;:&quot;hello world&quot;}}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;doc&quot;:{&quot;contents&quot;:&quot;hello world&quot;,&quot;type&quot;:&quot;foo&quot;}}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;nothing&quot;:&quot;matches&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: Error(&quot;failed to execute mapping query at line 1: unknown type&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="uuid_v4"></a><code>uuid_v4</code><a class="hash-link" href="#uuid_v4" title="Direct link to heading">#</a></h3><p>Generates a new RFC-4122 UUID each time it is invoked and prints a string representation.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">uuid_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="random_int"></a><code>random_int</code><a class="hash-link" href="#random_int" title="Direct link to heading">#</a></h3><p>Generates a non-negative pseudo-random 64-bit integer. An optional integer argument can be provided in order to seed the random number generator.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">random_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">second </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">random_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="message-info"></a>Message Info<a class="hash-link" href="#message-info" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="batch_index"></a><code>batch_index</code><a class="hash-link" href="#batch_index" title="Direct link to heading">#</a></h3><p>Returns the index of the mapped message within a batch. This is useful for applying maps only on certain messages of a batch.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">batch_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">deleted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="batch_size"></a><code>batch_size</code><a class="hash-link" href="#batch_size" title="Direct link to heading">#</a></h3><p>Returns the size of the message batch.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">batch_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="content"></a><code>content</code><a class="hash-link" href="#content" title="Direct link to heading">#</a></h3><p>Returns the full raw contents of the mapping target message as a byte array. When mapping to a JSON field the value should be encoded using the method <a href="/docs/guides/bloblang/methods#encode"><code>encode</code></a>, or cast to a string directly using the method <a href="/docs/guides/bloblang/methods#string"><code>string</code></a>, otherwise it will be base64 encoded by default.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">content</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;foo&quot;:&quot;bar&quot;}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;doc&quot;:&quot;{\&quot;foo\&quot;:\&quot;bar\&quot;}&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="error"></a><code>error</code><a class="hash-link" href="#error" title="Direct link to heading">#</a></h3><p>If an error has occurred during the processing of a message this function returns the reported cause of the error. For more information about error handling patterns read <a href="/docs/configuration/error_handling">here</a>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="errored"></a><code>errored</code><a class="hash-link" href="#errored" title="Direct link to heading">#</a></h3><p>Returns a boolean value indicating whether an error has occurred during the processing of a message. For more information about error handling patterns read <a href="/docs/configuration/error_handling">here</a>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">errored</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="json"></a><code>json</code><a class="hash-link" href="#json" title="Direct link to heading">#</a></h3><p>Returns the value of a field within a JSON message located by a <a href="/docs/configuration/field_paths">dot path</a> argument. This function always targets the entire source JSON document regardless of the mapping context.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mapped </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;foo.bar&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;foo&quot;:{&quot;bar&quot;:&quot;hello world&quot;}}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;mapped&quot;:&quot;hello world&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The path argument is optional and if omitted the entire JSON payload is returned.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {&quot;foo&quot;:{&quot;bar&quot;:&quot;hello world&quot;}}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;doc&quot;:{&quot;foo&quot;:{&quot;bar&quot;:&quot;hello world&quot;}}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="meta"></a><code>meta</code><a class="hash-link" href="#meta" title="Direct link to heading">#</a></h3><p>Returns the value of a metadata key from a message identified by a key. Values are extracted from the referenced input message and therefore do NOT reflect changes made from within the map.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">topic </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">meta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;kafka_topic&quot;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The parameter is optional and if omitted the entire metadata contents are returned as a JSON object.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">all_metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">meta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="environment"></a>Environment<a class="hash-link" href="#environment" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="env"></a><code>env</code><a class="hash-link" href="#env" title="Direct link to heading">#</a></h3><p>Returns the value of an environment variable.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">thing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key&quot;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="file"></a><code>file</code><a class="hash-link" href="#file" title="Direct link to heading">#</a></h3><p>BETA: This function is mostly stable but breaking changes could still be made outside of major version releases if a fundamental problem with it is found.</p><p>Reads a file and returns its contents. Relative paths are resolved from the directory of the process executing the mapping.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">doc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;BENTHOS_TEST_BLOBLANG_FILE&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">parse_json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># In:  {}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Out: {&quot;doc&quot;:{&quot;foo&quot;:&quot;bar&quot;}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="hostname"></a><code>hostname</code><a class="hash-link" href="#hostname" title="Direct link to heading">#</a></h3><p>Returns a string matching the hostname of the machine running Benthos.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">thing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hostname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="now"></a><code>now</code><a class="hash-link" href="#now" title="Direct link to heading">#</a></h3><p>Returns the current timestamp as a string in ISO 8601 format with the local timezone. Use the method <code>format_timestamp</code> in order to change the format and timezone.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">format_timestamp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Mon Jan 2 15:04:05 -0700 MST 2006&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;UTC&quot;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timestamp_unix"></a><code>timestamp_unix</code><a class="hash-link" href="#timestamp_unix" title="Direct link to heading">#</a></h3><p>Returns the current unix timestamp in seconds.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timestamp_unix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timestamp_unix_nano"></a><code>timestamp_unix_nano</code><a class="hash-link" href="#timestamp_unix_nano" title="Direct link to heading">#</a></h3><p>Returns the current unix timestamp in nanoseconds.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timestamp_unix_nano</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="deprecated"></a>Deprecated<a class="hash-link" href="#deprecated" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timestamp"></a><code>timestamp</code><a class="hash-link" href="#timestamp" title="Direct link to heading">#</a></h3><p>Returns the current time in a custom format specified by the argument. The format is defined by showing how the reference time, defined to be <code>Mon Jan 2 15:04:05 -0700 MST 2006</code> would be displayed if it were the value.</p><p>A fractional second is represented by adding a period and zeros to the end of the seconds section of layout string, as in <code>15:04:05.000</code> to format a time stamp with millisecond precision. This has been deprecated in favour of the new <code>now</code> function.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timestamp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;15:04:05&quot;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timestamp_utc"></a><code>timestamp_utc</code><a class="hash-link" href="#timestamp_utc" title="Direct link to heading">#</a></h3><p>The equivalent of <code>timestamp</code> except the time is printed as UTC instead of the local timezone. This has been deprecated in favour of the new <code>now</code> function.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-coffee codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">received_at </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timestamp_utc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;15:04:05&quot;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Jeffail/benthos/edit/master/website/docs/guides/bloblang/functions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guides/bloblang/about"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Bloblang</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guides/bloblang/methods"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bloblang Methods </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general" class="table-of-contents__link">General</a><ul><li><a href="#count" class="table-of-contents__link"><code>count</code></a></li><li><a href="#deleted" class="table-of-contents__link"><code>deleted</code></a></li><li><a href="#range" class="table-of-contents__link"><code>range</code></a></li><li><a href="#throw" class="table-of-contents__link"><code>throw</code></a></li><li><a href="#uuid_v4" class="table-of-contents__link"><code>uuid_v4</code></a></li><li><a href="#random_int" class="table-of-contents__link"><code>random_int</code></a></li></ul></li><li><a href="#message-info" class="table-of-contents__link">Message Info</a><ul><li><a href="#batch_index" class="table-of-contents__link"><code>batch_index</code></a></li><li><a href="#batch_size" class="table-of-contents__link"><code>batch_size</code></a></li><li><a href="#content" class="table-of-contents__link"><code>content</code></a></li><li><a href="#error" class="table-of-contents__link"><code>error</code></a></li><li><a href="#errored" class="table-of-contents__link"><code>errored</code></a></li><li><a href="#json" class="table-of-contents__link"><code>json</code></a></li><li><a href="#meta" class="table-of-contents__link"><code>meta</code></a></li></ul></li><li><a href="#environment" class="table-of-contents__link">Environment</a><ul><li><a href="#env" class="table-of-contents__link"><code>env</code></a></li><li><a href="#file" class="table-of-contents__link"><code>file</code></a></li><li><a href="#hostname" class="table-of-contents__link"><code>hostname</code></a></li><li><a href="#now" class="table-of-contents__link"><code>now</code></a></li><li><a href="#timestamp_unix" class="table-of-contents__link"><code>timestamp_unix</code></a></li><li><a href="#timestamp_unix_nano" class="table-of-contents__link"><code>timestamp_unix_nano</code></a></li></ul></li><li><a href="#deprecated" class="table-of-contents__link">Deprecated</a><ul><li><a href="#timestamp" class="table-of-contents__link"><code>timestamp</code></a></li><li><a href="#timestamp_utc" class="table-of-contents__link"><code>timestamp_utc</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/getting_started">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Videos</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Join the chat</a></li><li class="footer__item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Get in touch</a></li><li class="footer__item"><a class="footer__link-item" href="/blobfish">Mascot</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2021 Yellow Messenger</div></div></div></footer></div>
<script src="/styles.e4d5cb5b.js"></script>
<script src="/runtime~main.e88295cd.js"></script>
<script src="/main.c8e4b053.js"></script>
<script src="/1.5924ca73.js"></script>
<script src="/2.b09603a0.js"></script>
<script src="/333.fa5c3434.js"></script>
<script src="/332.1fbf5b90.js"></script>
<script src="/935f2afb.ad0a51ea.js"></script>
<script src="/17896441.ea7c0357.js"></script>
<script src="/a623da89.cec470ce.js"></script>
</body>
</html>