<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">First Look at the V4 Roadmap | Yellow Messenger</title><meta data-react-helmet="true" property="og:title" content="First Look at the V4 Roadmap | Yellow Messenger"><meta data-react-helmet="true" name="description" content="Well, it&#x27;s roadmapish"><meta data-react-helmet="true" property="og:description" content="Well, it&#x27;s roadmapish"><meta data-react-helmet="true" property="og:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for First Look at the V4 Roadmap | Yellow Messenger"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="keywords" content="v4,roadmap,go,golang,stream processor,ETL"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.5559d08e.css">
<link rel="preload" href="/styles.e4d5cb5b.js" as="script">
<link rel="preload" href="/runtime~main.e88295cd.js" as="script">
<link rel="preload" href="/main.c8e4b053.js" as="script">
<link rel="preload" href="/1.5924ca73.js" as="script">
<link rel="preload" href="/2.b09603a0.js" as="script">
<link rel="preload" href="/3.8ab27483.js" as="script">
<link rel="preload" href="/ccc49370.b87efaf4.js" as="script">
<link rel="preload" href="/e08333e4.6eed2570.js" as="script">
<link rel="preload" href="/0b79c01b.a38c9688.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/about">Docs</a><a class="navbar__item navbar__link" href="/cookbooks">Cookbooks</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/videos">Videos</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Lab</a><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-download-link header-icon-link" aria-label="Download"></a><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link header-icon-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/cookbooks">Cookbooks</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/videos">Videos</a></li><li class="menu__list-item"><a class="menu__link" href="/community">Community</a></li><li class="menu__list-item"><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="menu__link">Lab</a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="menu__link header-download-link header-icon-link" aria-label="Download"></a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link header-icon-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_SWld thin-scrollbar"><h3 class="sidebarItemTitle_Km2m">Recent posts</h3><ul class="sidebarItemList_3UpA"><li class="sidebarItem_2T0D"><a aria-current="page" class="sidebarItemLink_v5H9 sidebarItemLinkActive_1anX" href="/blog/2021/01/04/v4-roadmap">First Look at the V4 Roadmap</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2020/08/30/improved-workflows">Powered Up Workflows</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2020/05/10/bloblang-beta">Bloblang Beta</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2020/04/18/sneak-peek-at-bloblang">Sneak Peek at Bloblang</a></li><li class="sidebarItem_2T0D"><a class="sidebarItemLink_v5H9" href="/blog/2019/08/19/write-a-benthos-plugin">Write a Benthos Plugin</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_3-lP">First Look at the V4 Roadmap</h1><div class="margin-vert--md"><time datetime="2021-01-04T00:00:00.000Z" class="blogPostDate_Ta7i">January 4, 2021  · 7 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/Jeffail" target="_blank" rel="noreferrer noopener"><img src="/img/ash.jpg" alt="Ashley Jeffs"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/Jeffail" target="_blank" rel="noreferrer noopener">Ashley Jeffs</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>Benthos has been at major version 3 for over a year now, and I consider it to be a pretty cool achievement that given <a href="https://github.com/Jeffail/benthos/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">all the dope features added</a> we&#x27;ve managed to keep both the Benthos config spec and APIs fully backwards compatible.</p><p>However, eventually it would be nice to cut a new major release and prune all of the dead weight that has accumulated during this time. Since major version releases don&#x27;t come often I wanted to be sure that we&#x27;ve considered and planned any other potential breaking changes that could be bundled along with it.</p><p>Up until now Benthos has never had a roadmap or really any plan beyond just building what we want to use or want to build, this is known in the industry as attention-span-driven development. Alas, if we&#x27;re going to get mileage out of version 4 then <em>some</em> planning is necessary, and I figured we might as well put together our very first roadmap.</p><p>A few months ago I <a href="https://github.com/Jeffail/benthos/issues/503" target="_blank" rel="noopener noreferrer">asked for feedback</a>, I already had my own wish list of things to change in the next major release but I wanted to give you all an opportunity to factor in your own use cases. I&#x27;ve attempted to capture all of the feedback and create issues for the stuff that&#x27;s achievable, then I marked the issues that require breaking changes and added them to my roadmap plans. I think it&#x27;s currently in a state that works for me and is something deliverable, therefore I think it&#x27;s now worth sharing and allowing you all to help shape it further.</p><p>Benthos is blessed with a decent and growing number of contributors. However, it&#x27;s still clear that if I personally were to burn out then the project would pretty much grind to a temporary halt, and therefore my sanity is a higher priority than committing to a rigid plan. Here&#x27;s a few things to clarify about this roadmap before you get too excited:</p><ol><li>This isn&#x27;t final, it&#x27;s going to mutate over time in order to flex around &quot;everything else&quot; going on.</li><li>This isn&#x27;t everything. The only items included in this roadmap are items that I consider required to have ready for v4. Any features that can definitely be implemented without breaking changes are not included and can be worked on at any time, including right now.</li><li>There is no timeline or estimate for this work (by design). If you are blocked on any of the items on this roadmap and aren&#x27;t able to contribute then please still make sure I&#x27;m aware and I&#x27;ll factor that in, but do not expect promises or commitments (unless you&#x27;re paying for them).</li></ol><p>With that made clear and everyone sufficiently bored let&#x27;s get into the planned work <em>as it currently stands</em>. I&#x27;ve created an issue for every item here where you can read more details beyond my elevator pitch.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="improved-plugin-apis"></a>Improved plugin APIs<a class="hash-link" href="#improved-plugin-apis" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/501" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>This is by far the biggest item of work I want to establish <em>before</em> v4. The plugin APIs are currently heavily tied into the same component interfaces that are used internally. This means that it&#x27;s not possible for me to modify the signatures of internal components without breaking the plugin APIs. This has historically put us in awkward positions where in order to make a change that&#x27;s backwards compatible with both our configuration spec and the plugin APIs we have to implement nasty tricks.</p><p>If we&#x27;re instead able to isolate the plugin APIs with an air gap then it will allow us to iterate on the internal components without impacting the APIs used for plugins.</p><p>The plan is to fully implement an isolated (and nicer) plugin API, give everyone a lot of time to try it out, provide feedback, and migrate, all within good time <em>before</em> v4 so that I don&#x27;t pull the rug out from under current plugin users.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="streams-mode-api-for-resources"></a>Streams Mode API for Resources<a class="hash-link" href="#streams-mode-api-for-resources" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/566" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>This one&#x27;s pretty simple, we want to expand the streams mode APIs to allow the mutation of resources. This is blocked behind a breaking change (to the plugin APIs) as it would require sweeping changes to how resources are accessed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="input-scheduling-capabilities"></a>Input Scheduling Capabilities<a class="hash-link" href="#input-scheduling-capabilities" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/580" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>Sometimes it&#x27;s nice to slow things down, this issue would allow us to configure inputs that are triggered in scheduled bursts rather than realtime streams in order to have them behave similar to batch processors. Implementing this will require a minor review of the input initialization flow, which could potentially lead to breaking changes to the internal API.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuration-templating"></a>Configuration Templating<a class="hash-link" href="#configuration-templating" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/590" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>This would allow you to create reusable, parameterized, configuration templates and have them natively supported within Benthos. This issue is pretty dope but also a significant amount of work, it could easily result in breaking changes being required and so I&#x27;d like to have this at least planned out and understood before v4.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="improved-logging"></a>Improved Logging<a class="hash-link" href="#improved-logging" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/589" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>As Benthos has evolved it has gained a few oddities in how logging works. This issue adjusts logging to lean more into structured logging fields and update the configuration defaults to be more sensible. This will mostly impact internal components that create logs, and therefore depends on having the isolated plugin APIs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="improved-metrics"></a>Improved Metrics<a class="hash-link" href="#improved-metrics" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/510" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>Similar to the logging issue, metrics in Benthos are a bit wonky due to the collision between targets that do and don&#x27;t support labels/tagging. Since Prometheus and other tag based metrics types seem to be winning out nowadays I think we can flip the defaults to favour tags over long metric names.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuration-file-reloading"></a>Configuration File Reloading<a class="hash-link" href="#configuration-file-reloading" title="Direct link to heading">#</a></h3><p><a href="https://github.com/Jeffail/benthos/issues/338" target="_blank" rel="noopener noreferrer">Click here to access the issue.</a></p><p>Pretty much self explanatory. I believe this can be implemented without any breaking changes, but it would be good to have it understood (or finished) before v4 just in case.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tracking-these-features"></a>Tracking these Features<a class="hash-link" href="#tracking-these-features" title="Direct link to heading">#</a></h2><p>There&#x27;s a <a href="https://github.com/Jeffail/benthos/projects/2" target="_blank" rel="noopener noreferrer">project on Github</a> containing all of these issues, but the way that I&#x27;ve configured it is unique as issues aren&#x27;t necessarily tracked by their progress. Issues in the &quot;Blocked&quot; column are unable to progress without a breaking change and therefore are blocked on v4. Issues in the &quot;Unblocked&quot; column are features that can be worked on, and will either become done if they were able to be completed without breaking changes, or will be put back into &quot;Blocked&quot; once they reach a point where breaking changes are needed.</p><p>Once the &quot;Unblocked&quot; column has been emptied, and all of our v4 issues are either blocked or done, that will indicate that we are ready to commit to a new major version release, at which point a v4 branch will be created and that work can be started.</p><p>I&#x27;m hoping that this will make it easier for me to minimize disruption. Ideally, I want the process of implementing Benthos v4 to be a simple case of deleting old deprecated stuff, and then removing flags/feature toggles in order to make new breaking features the default, having already been implemented and tested. There should be no green field work as part of the new v4 branch.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="whats-next"></a>What&#x27;s Next<a class="hash-link" href="#whats-next" title="Direct link to heading">#</a></h2><p>Make sure you get your thoughts and opinions added to the issues you&#x27;re interested in. I&#x27;m also going to try and open up mini forums over <a href="/community">our Discord server</a> to get feedback on the plans. If any of these issues are something you&#x27;d personally like then please add a thumbs up emoji to it, as that helps me prioritize them.</p><p>If you&#x27;re interested in getting involved then make sure you&#x27;ve joined one or more of our <a href="/community">glorious community spaces</a>.</p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/v-4">v4</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2020/08/30/improved-workflows"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Powered Up Workflows »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#improved-plugin-apis" class="table-of-contents__link">Improved plugin APIs</a></li><li><a href="#streams-mode-api-for-resources" class="table-of-contents__link">Streams Mode API for Resources</a></li><li><a href="#input-scheduling-capabilities" class="table-of-contents__link">Input Scheduling Capabilities</a></li><li><a href="#configuration-templating" class="table-of-contents__link">Configuration Templating</a></li><li><a href="#improved-logging" class="table-of-contents__link">Improved Logging</a></li><li><a href="#improved-metrics" class="table-of-contents__link">Improved Metrics</a></li><li><a href="#configuration-file-reloading" class="table-of-contents__link">Configuration File Reloading</a></li><li><a href="#tracking-these-features" class="table-of-contents__link">Tracking these Features</a></li><li><a href="#whats-next" class="table-of-contents__link">What&#39;s Next</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/getting_started">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Videos</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Join the chat</a></li><li class="footer__item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Get in touch</a></li><li class="footer__item"><a class="footer__link-item" href="/blobfish">Mascot</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Yellow Messenger</div></div></div></footer></div>
<script src="/styles.e4d5cb5b.js"></script>
<script src="/runtime~main.e88295cd.js"></script>
<script src="/main.c8e4b053.js"></script>
<script src="/1.5924ca73.js"></script>
<script src="/2.b09603a0.js"></script>
<script src="/3.8ab27483.js"></script>
<script src="/ccc49370.b87efaf4.js"></script>
<script src="/e08333e4.6eed2570.js"></script>
<script src="/0b79c01b.a38c9688.js"></script>
</body>
</html>